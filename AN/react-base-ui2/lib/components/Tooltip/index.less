@import '../../less/variables/index.less';

@ITooltip-max-width:               250px;
@ITooltip-background-color:        rgba(0, 0, 0, 0.8);
@ITooltip-background-light-color:  #e6eef1;
@ITooltip-white-color:             #fff;
@ITooltip-delay:                   0.4s;
@ITooltip-duration:                0.1s;
@ITooltip-border-color:            #d6d7da;
@ITooltip-dark-color:              #313741;
@top_left:                         top_left;
@top_center:                       top_center;
@top_right:                        top_right;
@bottom_left:                      bottom_left;
@bottom_center:                    bottom_center;
@bottom_right:                     bottom_right;
@left_top:                         left_top;
@left_middle:                      left_middle;
@left_bottom:                      left_bottom;
@right_top:                        right_top;
@right_middle:                     right_middle;
@right_bottom:                     right_bottom;
@popupDistance:                    8px;
@arrowDistance:                    20px;
@arrowWidth:                       6px;
@arrowInnerWidth:                  5px;

// basic tooltip style and default light theme
.an-tooltip {
  position: relative;
  z-index: @zindex-tooltip;
  box-sizing: border-box;
  padding: 10px;
  color: @ITooltip-dark-color;
  background-color: @ITooltip-white-color;
  border: 1px solid @ITooltip-border-color;
  border-radius: 5px;

  &:before,
  &:after {
    position: absolute;
    z-index: @zindex-tooltip;
    display: block;
    width: 0;
    height: 0;
    border-style: solid;
    content: '';
  }

  &-shadow {
    box-shadow: 4px 4px 14px 0 rgba(0, 0, 0, 0.5);
  }

  .loading-bar,
  &__loadingbar {
    width: 180px;
    height: 90px;
  }

  &__@{right_top},
  &__@{left_top} {
    &:before,
    &:after {
      top: @arrowDistance;
    }
  }

  &__@{right_middle},
  &__@{left_middle} {
    &:before,
    &:after {
      top: ~'calc(50% - @{arrowWidth})';
    }
  }

  &__@{right_bottom},
  &__@{left_bottom} {
    &:before,
    &:after {
      bottom: @arrowDistance;
    }
  }

  &__@{bottom_left},
  &__@{top_left} {
    &:before,
    &:after {
      left: @arrowDistance;
    }
  }

  &__@{bottom_center},
  &__@{top_center} {
    &:before,
    &:after {
      left: ~'calc(50% - @{arrowWidth})';
    }
  }

  &__@{bottom_right},
  &__@{top_right}, {
    &:before,
    &:after {
      right: @arrowDistance;
    }
  }

  &__@{left_top},
  &__@{left_middle},
  &__@{left_bottom} {
    margin-right: @popupDistance;

    &:before,
    &:after {
      border-width: @arrowWidth 0 @arrowWidth @arrowWidth;
    }

    &:before {
      right: -@arrowWidth;
      border-color: transparent transparent transparent @ITooltip-border-color;
    }

    &:after {
      right: -@arrowInnerWidth;
      border-color: transparent transparent transparent @ITooltip-white-color;
    }
  }

  &__@{right_top},
  &__@{right_middle},
  &__@{right_bottom} {
    margin-left: @popupDistance;

    &:before,
    &:after {
      border-width: @arrowWidth @arrowWidth @arrowWidth 0;
    }

    &:before {
      left: -@arrowWidth;
      border-color: transparent @ITooltip-border-color transparent transparent;
    }

    &:after {
      left: -@arrowInnerWidth;
      border-color: transparent @ITooltip-white-color transparent transparent;
    }
  }

  &__@{bottom_left},
  &__@{bottom_center},
  &__@{bottom_right} {
    margin-top: @popupDistance;

    &:before,
    &:after {
      border-width: 0 @arrowWidth @arrowWidth @arrowWidth;
    }

    &:before {
      top: -@arrowWidth;
      border-color: transparent transparent @ITooltip-border-color transparent;
    }

    &:after {
      top: -@arrowInnerWidth;
      border-color: transparent transparent @ITooltip-white-color transparent;
    }
  }

  &__@{top_left},
  &__@{top_center},
  &__@{top_right} {
    margin-bottom: @popupDistance;

    &:before,
    &:after {
      border-width: @arrowWidth @arrowWidth 0 @arrowWidth;
    }

    &:before {
      bottom: -@arrowWidth;
      border-color: @ITooltip-border-color transparent transparent transparent;
    }

    &:after {
      bottom: -@arrowInnerWidth;
      border-color: @ITooltip-white-color transparent transparent transparent;
    }
  }

  // light theme
  &-light {
    color: @ITooltip-dark-color;
    background-color: @ITooltip-white-color;
  }

  &-light__@{right_top},
  &-light__@{right_middle},
  &-light__@{right_bottom} {
    &:after {
      border-color: transparent @ITooltip-white-color transparent transparent;
    }
  }

  &-light__@{left_top},
  &-light__@{left_middle},
  &-light__@{left_bottom} {
    &:after {
      border-color: transparent transparent transparent @ITooltip-white-color;
    }
  }

  &-light__@{bottom_left},
  &-light__@{bottom_center},
  &-light__@{bottom_right} {
    &:after {
      top: -@arrowInnerWidth;
      border-color: transparent transparent @ITooltip-white-color transparent;
    }
  }

  &-light__@{top_left},
  &-light__@{top_center},
  &-light__@{top_right} {
    &:after {
      border-color: @ITooltip-white-color transparent transparent transparent;
    }
  }

  // dark theme
  &-dark {
    color: @ITooltip-white-color;
    background-color: @ITooltip-dark-color;
  }

  &-dark__@{right_top},
  &-dark__@{right_middle},
  &-dark__@{right_bottom} {
    &:after {
      border-color: transparent @ITooltip-dark-color transparent transparent;
    }
  }

  &-dark__@{left_top},
  &-dark__@{left_middle},
  &-dark__@{left_bottom} {
    &:after {
      border-color: transparent transparent transparent @ITooltip-dark-color;
    }
  }

  &-dark__@{bottom_left},
  &-dark__@{bottom_center},
  &-dark__@{bottom_right} {
    &:after {
      border-color: transparent transparent @ITooltip-dark-color transparent;
    }
  }

  &-dark__@{top_left},
  &-dark__@{top_center},
  &-dark__@{top_right} {
    &:after {
      border-color: @ITooltip-dark-color transparent transparent transparent;
    }
  }

  &-failed {
    display: flex;
    line-height: 24px;
    color: #ffb245;

    i {
      display: inline-flex;
      margin-right: 5px;
      font-size: 22px;
    }
  }
}
